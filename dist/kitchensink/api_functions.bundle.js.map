{"version":3,"file":"api_functions.bundle.js","mappings":"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","sources":["webpack://extension-kitchensink/../../../node_modules/@looker/components/Button/ButtonOutline.js","webpack://extension-kitchensink/./src/components/ApiFunctions/ApiFunctions.tsx","webpack://extension-kitchensink/./src/components/SandboxStatus/SandboxStatus.tsx"],"sourcesContent":["import styled from 'styled-components';\nimport { ButtonBase } from './ButtonBase';\nexport var ButtonOutline = styled(ButtonBase).withConfig({\n  displayName: \"ButtonOutline\",\n  componentId: \"sc-ncggc7-0\"\n})([\"background:\", \";border:1px solid \", \";color:\", \";&[aria-expanded='true']{background:\", \";border-color:\", \";color:\", \";}\"], function (_ref) {\n  var theme = _ref.theme,\n      _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'key' : _ref$color;\n  return theme.colors[\"\".concat(color, \"Text\")];\n}, function (_ref2) {\n  var theme = _ref2.theme;\n  return theme.colors.ui3;\n}, function (_ref3) {\n  var theme = _ref3.theme,\n      _ref3$color = _ref3.color,\n      color = _ref3$color === void 0 ? 'key' : _ref3$color;\n  return theme.colors[color];\n}, function (_ref4) {\n  var theme = _ref4.theme,\n      _ref4$color = _ref4.color,\n      color = _ref4$color === void 0 ? 'key' : _ref4$color;\n  return theme.colors[\"\".concat(color, \"Accent\")];\n}, function (_ref5) {\n  var theme = _ref5.theme,\n      _ref5$color = _ref5.color,\n      color = _ref5$color === void 0 ? 'key' : _ref5$color;\n  return theme.colors[\"\".concat(color, \"Focus\")];\n}, function (_ref6) {\n  var theme = _ref6.theme,\n      _ref6$color = _ref6.color,\n      color = _ref6$color === void 0 ? 'key' : _ref6$color;\n  return theme.colors[color];\n});\n//# sourceMappingURL=ButtonOutline.js.map","/*\n\n MIT License\n\n Copyright (c) 2022 Looker Data Sciences, Inc.\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n\n */\n\nimport React, { useContext, useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { Heading, Box, ButtonOutline, TextArea } from '@looker/components'\nimport type { Looker40SDK } from '@looker/sdk'\nimport type { ExtensionContextData2 } from '@looker/extension-sdk-react'\nimport { ExtensionContext2 } from '@looker/extension-sdk-react'\nimport { SandboxStatus } from '../SandboxStatus'\nimport { ROUTES } from '../../KitchenSink'\nimport type { ApiFunctionsProps } from './types'\n\nconst ApiFunctions: React.FC<ApiFunctionsProps> = () => {\n  const history = useHistory()\n  const [messages, setMessages] = useState('')\n  const extensionContext =\n    useContext<ExtensionContextData2<Looker40SDK>>(ExtensionContext2)\n  const { extensionSDK } = extensionContext\n\n  const uaName = `${extensionSDK.lookerHostData?.extensionId.replace(\n    /(::|-)/g,\n    '_'\n  )}_user_value`\n\n  const updateMessages = (message: any) => {\n    setMessages((prevMessages) => {\n      const maybeLineBreak = prevMessages.length === 0 ? '' : '\\n'\n      return `${prevMessages}${maybeLineBreak}${message}`\n    })\n  }\n\n  const verifyHostConnectionClick = async () => {\n    try {\n      const value = await extensionSDK.verifyHostConnection()\n      if (value === true) {\n        updateMessages('Host verification success')\n      } else {\n        updateMessages('Invalid response ' + value)\n      }\n    } catch (error) {\n      updateMessages('Host verification failure')\n      updateMessages(error)\n      console.error('Host verification failure', error)\n    }\n  }\n\n  const updateTitleButtonClick = () => {\n    const date = new Date()\n    extensionSDK.updateTitle(\n      `Extension Title Update ${date.getHours()}:${date.getMinutes()}:${date.getSeconds()}`\n    )\n    updateMessages('Title updated')\n  }\n\n  const goToBrowseButtonClick = () => {\n    extensionSDK.updateLocation('/browse')\n  }\n\n  const goToMarketplaceButtonClick = () => {\n    extensionSDK.updateLocation('/marketplace')\n  }\n\n  const openMarketplaceButtonClick = () => {\n    extensionSDK.openBrowserWindow('/marketplace', '_marketplace')\n    updateMessages('Window opened')\n  }\n\n  const localStorageSet = async () => {\n    try {\n      await extensionSDK.localStorageSetItem('testbed', new Date().toString())\n      updateMessages('Success')\n    } catch (error) {\n      updateMessages(error)\n      console.error(error)\n    }\n  }\n\n  const localStorageGet = async () => {\n    try {\n      const value = await extensionSDK.localStorageGetItem('testbed')\n      updateMessages(value || 'null')\n    } catch (error) {\n      updateMessages(error)\n      console.error(error)\n    }\n  }\n\n  const localStorageRemove = async () => {\n    try {\n      await extensionSDK.localStorageRemoveItem('testbed')\n      updateMessages('Success')\n    } catch (error) {\n      updateMessages(error)\n      console.error(error)\n    }\n  }\n\n  const generateUnhandledErrorClick = () => {\n    updateMessages('About to generate error')\n    // const badApi: any = {}\n    // badApi.noExistentMethod()\n    throw new Error('Kitchensink threw an error')\n  }\n\n  const testRouting = () => {\n    history.push(`${ROUTES.CORESDK_ROUTE}?test=abcd`, { count: 1 })\n  }\n\n  const getUserAttributeClick = async () => {\n    try {\n      const value = await extensionSDK.userAttributeGetItem('user_value')\n      updateMessages(`User attribute 'user_value' is ${value}`)\n    } catch (error) {\n      updateMessages(\n        `Create a user attribute named \"${uaName}\" and reload to use this attribute`\n      )\n      console.error(error)\n    }\n    try {\n      const value = await extensionSDK.userAttributeGetItem('locale')\n      updateMessages(`User attribute 'locale' is ${value}`)\n    } catch (error) {\n      updateMessages(error)\n      console.error(error)\n    }\n  }\n\n  const setUserAttributeClick = async () => {\n    try {\n      const value = await extensionSDK.userAttributeSetItem(\n        'user_value',\n        new Date().toString()\n      )\n      if (value) {\n        updateMessages(`Updated 'user_value' to '${value}'`)\n      }\n    } catch (error) {\n      updateMessages(\n        `Create a user attribute named \"${uaName}\" and reload to use this attribute`\n      )\n      console.error(error)\n    }\n    // This will fail because global user attributes cannot by modified by an extension\n    try {\n      const timestamp = new Date().toString()\n      const value = await extensionSDK.userAttributeSetItem('locale', timestamp)\n      if (value) {\n        updateMessages(`Updated 'locale' to '${timestamp}'`)\n      }\n    } catch (error) {\n      updateMessages(error)\n      console.error(error)\n    }\n  }\n\n  const resetUserAttributeClick = async () => {\n    try {\n      await extensionSDK.userAttributeResetItem('user_value')\n      updateMessages(`Reset 'user_value' to default`)\n    } catch (error) {\n      updateMessages(\n        `Create a user attribute named \"${uaName}\" and reload to use this attribute`\n      )\n      console.error(error)\n    }\n    // This will fail because global user attributes cannot by modified by an extension\n    try {\n      await extensionSDK.userAttributeResetItem('locale')\n      updateMessages(`Reset 'locale' default`)\n    } catch (error) {\n      updateMessages(error)\n      console.error(error)\n    }\n  }\n\n  const writeToClipboardClick = async () => {\n    try {\n      await extensionSDK.clipboardWrite(\n        'https://trends.google.com/trends/trendingsearches/daily?geo=US'\n      )\n      updateMessages(\n        `Google's \"I'm feeling lucky\" search has been written to the clipboard. Paste into the browser URL to confirm.`\n      )\n    } catch (error) {\n      updateMessages(error)\n      console.error(error)\n    }\n  }\n\n  const clearMessagesClick = () => {\n    setMessages('')\n  }\n\n  return (\n    <>\n      <Heading mt=\"xlarge\">API Functions</Heading>\n      <SandboxStatus />\n      <Box display=\"flex\" flexDirection=\"row\">\n        <Box display=\"flex\" flexDirection=\"column\" width=\"50%\" maxWidth=\"40vw\">\n          <ButtonOutline mt=\"small\" onClick={updateTitleButtonClick}>\n            Update title\n          </ButtonOutline>\n          <ButtonOutline mt=\"small\" onClick={goToBrowseButtonClick}>\n            Go to browse (update location)\n          </ButtonOutline>\n          <ButtonOutline mt=\"small\" onClick={goToMarketplaceButtonClick}>\n            Go to Marketplace (update location)\n          </ButtonOutline>\n          <ButtonOutline mt=\"small\" onClick={openMarketplaceButtonClick}>\n            Open marketplace new window\n          </ButtonOutline>\n          <ButtonOutline mt=\"small\" onClick={verifyHostConnectionClick}>\n            Verify host connection\n          </ButtonOutline>\n          <ButtonOutline mt=\"small\" onClick={localStorageSet}>\n            Set local storage\n          </ButtonOutline>\n          <ButtonOutline mt=\"small\" onClick={localStorageGet}>\n            Get local storage\n          </ButtonOutline>\n          <ButtonOutline mt=\"small\" onClick={localStorageRemove}>\n            Remove local storage\n          </ButtonOutline>\n          <ButtonOutline mt=\"small\" onClick={generateUnhandledErrorClick}>\n            Generate unhandled error\n          </ButtonOutline>\n          <ButtonOutline mt=\"small\" onClick={testRouting}>\n            Route test\n          </ButtonOutline>\n          <ButtonOutline mt=\"small\" onClick={getUserAttributeClick}>\n            Get User Attribute\n          </ButtonOutline>\n          <ButtonOutline mt=\"small\" onClick={setUserAttributeClick}>\n            Set User Attribute\n          </ButtonOutline>\n          <ButtonOutline mt=\"small\" onClick={resetUserAttributeClick}>\n            Reset User Attribute\n          </ButtonOutline>\n          <ButtonOutline mt=\"small\" onClick={writeToClipboardClick}>\n            Write to clipboard\n          </ButtonOutline>\n          <ButtonOutline mt=\"small\" onClick={clearMessagesClick}>\n            Clear messages\n          </ButtonOutline>\n        </Box>\n        <Box width=\"50%\" p=\"small\" maxWidth=\"40vw\">\n          <TextArea height=\"60vh\" readOnly value={messages} />\n        </Box>\n      </Box>\n    </>\n  )\n}\n\nexport default ApiFunctions\n","/*\n\n MIT License\n\n Copyright (c) 2022 Looker Data Sciences, Inc.\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n\n */\n\nimport React, { useEffect, useState } from 'react'\nimport { Paragraph } from '@looker/components'\nimport type { SandboxStatusProps } from './types'\n\nexport const SandboxStatus: React.FC<SandboxStatusProps> = () => {\n  const [sandboxStatus, setSandboxStatus] = useState('')\n\n  useEffect(() => {\n    try {\n      const parentWindow: any = (window as any).parent\n      // Attempt to get data from the parent window. This\n      // will fail in a sandboxed environment and in most\n      // cases we want this to fail.\n      // eslint-disable-next-line no-unused-expressions\n      parentWindow.looker?.version\n      setSandboxStatus('NOT')\n    } catch (err) {\n      setSandboxStatus('')\n    }\n  }, [])\n\n  return (\n    <Paragraph my=\"medium\">\n      This extension is <b>{sandboxStatus}</b> sandboxed.\n    </Paragraph>\n  )\n}\n"],"names":["ButtonOutline","withConfig","displayName","componentId","_ref","theme","_ref$color","color","colors","concat","_ref2","ui3","_ref3","_ref3$color","_ref4","_ref4$color","_ref5","_ref5$color","_ref6","_ref6$color","history","useHistory","messages","setMessages","useState","extensionContext","useContext","ExtensionContext2","extensionSDK","uaName","lookerHostData","extensionId","replace","updateMessages","message","prevMessages","maybeLineBreak","length","verifyHostConnectionClick","value","verifyHostConnection","error","console","localStorageSet","localStorageSetItem","Date","toString","localStorageGet","localStorageGetItem","localStorageRemove","localStorageRemoveItem","getUserAttributeClick","userAttributeGetItem","setUserAttributeClick","userAttributeSetItem","timestamp","resetUserAttributeClick","userAttributeResetItem","writeToClipboardClick","clipboardWrite","mt","display","flexDirection","width","maxWidth","onClick","date","updateTitle","getHours","getMinutes","getSeconds","updateLocation","openBrowserWindow","Error","push","ROUTES","count","p","TextArea","height","readOnly","SandboxStatus","sandboxStatus","setSandboxStatus","useEffect","window","parent","looker","version","err","my"],"sourceRoot":""}